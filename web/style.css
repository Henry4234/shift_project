/* Import Google font - Poppins */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}
:root {
  --black-color: #000;
  --white-color: #fff;
  --blue-color: #4070f4;
  --grey-color: #707070;
  --grey-color-light: #aaa;
  --green-color: #5C786E;
  --fc-dark-btn-color: #455A64;
  --fc-weekend-color: #7f9eb2;
  --select-mode-color: #58a3ed;
  --cycle-bg-color: #c6e1fa;
  --wiget-cycle-color: #a2c1cb; 
  --table-th-color:#f5f7fa;
  --table-td-color: #e3f2fd;
  --fc-schedule-day:#2E7D32;
  --fc-schedule-eveing:#f57c00;
  --fc-schedule-night:#1976d2;
  --fc-schedule-off:#585353;
  --bg-schedule-day:#e8f5e8;
  --bg-schedule-eveing:#fff3e0;
  --bg-schedule-night:#e3f2fd;
  --bg-schedule-off:#eae6e6;
  --bg-table-selected: #e6f3ff;
  --border-selected:#007bff;
  --schedule-verify-checkbox: #e3f2fd;
  --group-weekend: #fce4ec;
  --timeline-current-color: #fff;
}
body {
  background-color: #e7f2fd;
  transition: all 0.5s ease;
}
body.dark {
  
  background-color: #333;
  --black-color: #fff;
  --white-color: #333;
  --blue-color: #fff;
  --grey-color: #f2f2f2;
  --grey-color-light: #aaa;
  --green-color: #7aa193;
  --fc-dark-btn-color: #dae9f4;
  --fc-weekend-color: #5f6060;
  --select-mode-color: #5173a9;
  --cycle-bg-color: #474747;
  --wiget-cycle-color: #415b8b; 
  --table-th-color: #394653;
  --table-td-color:#30577d;
  --fc-schedule-day:#e8f5e8;
  --fc-schedule-eveing:#fff3e0;
  --fc-schedule-night:#e3f2fd;
  --fc-schedule-off:#d0cece;
  --bg-schedule-day:#48765f;
  --bg-schedule-eveing:#b56732eb;
  --bg-schedule-night:#336699;
  --bg-schedule-off: #3b3b3b;
  --bg-table-selected: #5B6271;
  --border-selected: #b0c4d6;
  --schedule-verify-checkbox: #30577d;
  --group-weekend: #4f3636;
  --timeline-current-color: #007bff;
}

/* 加載動畫 */
.loading {
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}
/* navbar */
.navbar {
  position: fixed;
  top: 0;
  width: 100%;
  left: 0;
  background-color: var(--white-color);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 15px 30px;
  z-index: 1000;
  box-shadow: 0 0 2px var(--grey-color-light);
}
.logo_icon {
    display: flex;
    align-items: center;
    column-gap: 10px;
    font-size: 36px;
    font-weight: 500;
    color: var(--red-color);
  }
.logo_item {
  display: flex;
  align-items: center;
  column-gap: 10px;
  font-size: 24px;
  font-weight: 500;
  color: var(--blue-color);
}

.navbar img {
  width: 35px;
  height: 35px;
  border-radius: 50%;
}
.navbar_content {
  display: flex;
  align-items: center;
  column-gap: 25px;
}
.navbar_content i {
  cursor: pointer;
  font-size: 20px;
  color: var(--grey-color);
}
/* sidebar */
.sidebar {
  background-color: var(--white-color);
  width: 260px;
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  padding: 80px 20px;
  z-index: 100;
  overflow-y: scroll;
  box-shadow: 0 0 1px var(--grey-color-light);
  transition: all 0.5s ease;
}
.sidebar.close {
  padding: 60px 0;
  width: 80px;
}
.sidebar::-webkit-scrollbar {
  display: none;
}
/* 員工按鈕展開動畫 */
.form-check {
  transition: all 0.3s ease-out;
  overflow: visible;
  position: relative;
  margin: 0;
  color: var(--grey-color);
}
.preferencetitle{
  position: relative;
  right: -20px;
  align-items: right;
  font-size: 11px;
}
/* 偏好設定外框 */
.preference-box {
    border: 1px solid #d0d5db;   /* 淺灰邊框 */
    border-radius: 6px;          /* radius=6 */
    padding: 12px 16px;          /* 內距讓內容不貼邊 */
    background-color:var(--white-color);   /* 低調底色，可自行調整或拿掉 */
    position: relative;          /* 用於動畫定位 */
    animation: animate-top 0.4s; /*動畫持續時間 */
}
.preferences-container {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: all 0.3s ease-out;
  margin: 0;
  visibility: hidden;
  position: relative;
  z-index: 1;
}
/* 外框內的標題列 */
.preference-title {
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--grey-color);
  margin-bottom: 8px;
}

/* 班別需求容器樣式 */
.shift-requirements-container {
  display: relative;
  flex-direction: column;
  gap: 10px;
  /* margin-top: 10px; */
}

.shift-requirement-item {
  display: flex;
  align-items: center;
  padding: 2px;
  gap: 10px;
}

.shift-requirement {
  display: relative;
  width: calc(100% - 90px); 
  text-align: center;
}

.shift-label {
  font-size: 0.9rem;
  color: var(--grey-color);
}

.update-shifts-btn {
  width: 100%;
  height: 30px;
  /* padding: 10px; */
  margin-top: 10px;
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.update-shifts-btn:hover {
  background-color: #218838;
}

.preferences-container.show {
  max-height: 375px;
  opacity: 1;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  visibility: visible;
}

/* 確保動畫平滑 */
.form-check + .form-check {
  transition: transform 0.3s ease-out;
  margin-top: 0.25rem;
}

/* 展開時下方元素的位移動畫 */
.form-check.shifted {
  transform: translateY(var(--shift-distance, 5px));
  position: relative;
  z-index: 0;
}
.menu_content {
  position: relative;
}
.menu_title {
  margin: 15px 0;
  padding: 0 20px;
  font-size: 18px;
}
.sidebar.close .menu_title {
  padding: 6px 30px;
}
.menu_title::before {
  color: var(--grey-color);
  white-space: nowrap;
}
.menu_editor::before {
  content: "- 模式選擇";
}
.menu_tempt::before {
  content: "- 暫存班表";
}
.menu_config::before {
  content: "- 設定";
}
.sidebar.close .menu_title::before {
  content: "";
  position: absolute;
  height: 2px;
  width: 18px;
  border-radius: 12px;
  background: var(--grey-color-light);
}
.menu_items {
  padding: 0;
  list-style: none;
}

.start-cal-btn {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 4px 15px;
  border-radius: 8px;
  text-decoration: none;
  color: var(--grey-color);
  white-space: nowrap;
}

.start-cal-btn:hover {
  color: var(--white-color);
  background: var(--green-color);
}

.sidebar.close .start_cal_icon {
  padding: 4px 8px;
  justify-content: center;
}
.start_cal_icon {
  position: relative;
  font-size: 22px;
  min-width: 50px;
  line-height: 0px;
  display: inline-block;
  text-align: center;
  border-radius: 6px;
  padding: 12px 6px;
}
.start_cal_icon::before {
  content: "";
  position: absolute;
  height: 100%;
  width: calc(100% + 100px);
  left: -20px;
}
.start_cal_icon:hover {
  background: var(--green-color);

}

.navlink_icon {
  position: relative;
  font-size: 22px;
  min-width: 50px;
  line-height: 40px;
  display: inline-block;
  text-align: center;
  border-radius: 6px;
}
.sidebar .nav_link {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 4px 15px;
  border-radius: 8px;
  text-decoration: none;
  color: var(--grey-color);
  white-space: nowrap;
  transition: background-color 0.3s ease, color 0.3s ease;
}
.sidebar .btn-start-schedule{
  color: var(--white-color);
  background-color: var(--green-color);
  transition: background-color 0.3s ease, color 0.3s ease;
}
.sidebar .calendarmode {
  /* display: flex; */
  display: block; /* 改為區塊佈局，讓項目垂直堆疊 */
  align-items: center;
  width: 100%;
  border-radius: 8px;
  text-decoration: none;
  color: var(--grey-color);
  /* white-space: nowrap; */
}
.sidebar .calendarmode .item{
  padding: 5px 0px;
}
.sidebar .calendarmode .nav_link:hover {
  color: var(--black-color);
}

.sidebar .calendarmode .navlink_icon {
  color: var(--grey-color);
  background-color: transparent;
}

/* .sidebar.close .calendarmode:hover {
  padding: 6px;
  background: var(--white-color);
} */
.sidebar.close .navlink {
  display: none;
}
.nav_link:hover {
  color: var(--white-color);
  background: var(--blue-color);
}
.sidebar.close .nav_link:hover {
  background: var(--white-color);
}
.sidebar .add_member {
  font-size: 20px;
}
.sidebar .add_member:hover{
  color: var(--white-color);
  background: var(--green-color);
}
.submenu_item {
  cursor: pointer;
}
.submenu {
  display: none;
}
.submenu_item .arrow-left {
  position: absolute;
  right: 10px;
  display: inline-block;
  margin-right: auto;
}
.sidebar.close .preference-box {
  display: none;
}
.show_submenu ~ .submenu {
  display: block;
}
.show_submenu .arrow-left {
  transform: rotate(90deg);
}

.bottom_content {
  position: fixed;
  bottom: 60px;
  left: 0;
  width: 260px;
  cursor: pointer;
  transition: all 0.5s ease;
}
.content {
    /* width: 530px; */
    position: relative; 
    top: 50px;
    right: 0;
    height: calc(100% - 90px);
    margin-left: 260px;              /* 260px = sidebar 展開寬度 */
    width: calc(100% - 260px);       /* 自動佔滿剩下的空間 */
    padding: 50px;
    overflow-y: auto;
    transition: margin-left .3s ease, width .3s ease;  /* 動畫效果 */
}
.bottom {
  position: absolute;
  display: flex;
  align-items: center;
  left: 0;
  justify-content: space-around;
  padding: 18px 0;
  text-align: center;
  width: 100%;
  color: var(--grey-color);
  border-top: 1px solid var(--grey-color-light);
  background-color: var(--white-color);
}
.bottom i {
  font-size: 20px;
}
.bottom span {
  font-size: 18px;
}
.sidebar.close .bottom_content {
  width: 50px;
  left: 15px;
}
.sidebar.close .bottom span {
  display: none;
}

/* 當 sidebar 有 .close 時，調整內容區 */
.sidebar.close ~ .content{
    margin-left: 80px;   /* 80px = sidebar 收合寬度 */
    width: 90%;          /* 你希望的 90% */
  }
.sidebar.hoverable .collapse_sidebar {
  display: none;
}
#sidebarOpen {
  display: none;
}
/* 讓月曆容器永遠佔滿 .content */
#calendar-container{
    width: 100%;
    height: calc(100vh - 180px); /* 90px navbar + 90px 你在 .content 的 top/padding */
    overflow: hidden;            /* 避免雙捲軸 */
    color: var(--grey-color);
  }
.fc .fc-col-header-cell-cushion{
  color: var(--black-color);
}
.fc .fc-daygrid-day-number{
  color: var(--grey-color);
}
.fc .fc-button-primary{
  background-color: var(--fc-dark-btn-color);
  color: var(--white-color);
  border: none;
}

.fc .fc-day-sat{
  background-color: var(--fc-weekend-color);
}
.fc .fc-day-sun{
  background-color: var(--fc-weekend-color);
}

/* 從上方滑入的動畫 */
@keyframes animate-top {
  0% {
      top: -100px;
      opacity: 0;
  }
  100% {
      top: 0;
      opacity: 1;
  }
}

/* 確保內容與外框一起動畫 */
.preference-box * {
  animation: preference-fade-in 0.4s;
}

@keyframes preference-fade-in {
  0% {
      opacity: 0;
  }
  100% {
      opacity: 1;
  }
}

@media screen and (max-width: 768px) {
  #sidebarOpen {
    font-size: 25px;
    display: block;
    margin-right: 10px;
    cursor: pointer;
    color: var(--grey-color);
  }
  .sidebar.close {
    left: -100%;
  }
  .sidebar.close .bottom_content {
    left: -100%;
  }
  .temp-schedule-bottom {
    flex-direction: column; /* 在小螢幕上垂直排列 */
}

  .temp-schedule-require,
  .temp-schedule-comment {
      min-width: 100%; /* 在小螢幕上佔滿寬度 */
  }

  .employee-requirements-table {
      font-size: 11px;
  }

  .employee-requirements-table th,
  .employee-requirements-table td {
      padding: 3px 4px;
  }
  
  .actual-shift-value,
  .requirement-value {
      font-size: 12px;
  }
}

/* 彈出新增員工視窗css圖示樣式 */
#addMemberModal .modal-content{
  background-color:var(--white-color)
}
.modal-header i.bx-user-plus {
    font-size: 26px;  /* 設定圖示大小 */
    margin-right: 5px;  /* 與標題文字的間距 */
    color: var(--blue-color);  /* 使用主題色 */
    vertical-align: middle;  /* 垂直置中對齊 */
}

/* 確保標題文字與圖示在同一行 */
.modal-header .modal-title {
    display: flex;
    align-items: center;
    margin: 0;
    color: var(--grey-color);
}
#addMemberModal .modal-body{
  color: var(--grey-color);
}
.modal-body .input-day{
  width: 90%;
}
.modal-body .row{
  display: flex;
  align-items: center;

}
/* === 暫存班表專用樣式 === */
.temp-schedule-header {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    color: var(--black-color);
    border-radius: 8px;
    padding: 18px 24px;
    background-color: var(--wiget-cycle-color);
    border: 2px solid #b0c4d6;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    margin-bottom: 0;
}
.temp-schedule-header h2, .temp-schedule-header p {
    margin: 0;
    text-align: left;
}
.temp-schedule-header .header-actions {
    display: flex;
    gap: 12px;
}
.temp-schedule-header .header-actions button {
    background: var(--fc-dark-btn-color);
    color: var(--white-color);
    border: none;
    border-radius: 6px;
    padding: 8px 18px;
    font-size: 15px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}
.temp-schedule-header .header-actions button:hover {
    background: var(--blue-color);
}

/* === 時間軸流程樣式 === */
.temp-schedule-timeline {
    background: var(--cycle-bg-color);
    border-radius: 12px;
    box-shadow: 0 4px 24px 0 rgba(0,0,0,0.13);
    padding: 24px;
    margin-bottom: 15px;
    animation: fadeInTable 0.4s;
}

.timeline-header {
    text-align: center;
    margin-bottom: 2px;
}

.timeline-header h3 {
    color: var(--black-color);
    font-size: 24px;
    font-weight: 600;
    margin: 0;
    letter-spacing: 10px;
}

.timeline-steps {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}

.timeline-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 16px 12px;
    border-radius: 8px;
    min-width: 100px;
    transition: all 0.3s ease;
    position: relative;
}

.timeline-step .step-icon {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    transition: all 0.3s ease;
}

.timeline-step .step-label {
    font-size: 14px;
    font-weight: 500;
    text-align: center;
    color: var(--black-color);
    white-space: nowrap;
}

/* 步驟狀態樣式 */
.timeline-step.completed .step-icon {
    background-color: #28a745;
    color: white;
    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
}

.timeline-step.current .step-icon {
    background-color: var(--blue-color);
    color: var(--timeline-current-color);
    box-shadow: 0 2px 8px rgba(64, 112, 244, 0.3);
    animation: pulse 2s infinite;
}

.timeline-step.pending .step-icon {
    background-color: var(--grey-color-light);
    color: var(--white-color);
    opacity: 0.6;
}

/* 箭頭樣式 */
.timeline-arrow {
    display: flex;
    align-items: center;
    color: var(--grey-color);
    font-size: 40px;
    margin: 0 4px;
    transition: color 0.3s ease;
}

.timeline-step.completed + .timeline-arrow {
    color: #28a745;
}

.timeline-step.current + .timeline-arrow {
    color: var(--blue-color);
}

/* 脈衝動畫 */
@keyframes pulse {
    0% {
        box-shadow: 0 2px 8px rgba(64, 112, 244, 0.3);
    }
    50% {
        box-shadow: 0 2px 16px rgba(64, 112, 244, 0.6);
    }
    100% {
        box-shadow: 0 2px 8px rgba(64, 112, 244, 0.3);
    }
}

/* 響應式設計 */
@media screen and (max-width: 768px) {
    .timeline-steps {
        flex-direction: column;
        gap: 16px;
    }
    
    .timeline-arrow {
        transform: rotate(90deg);
        margin: 8px 0;
    }
    
    .timeline-step {
        min-width: 120px;
        padding: 12px 8px;
    }
    
    .timeline-step .step-icon {
        width: 40px;
        height: 40px;
        font-size: 20px;
    }
    
    .timeline-step .step-label {
        font-size: 12px;
    }
}

.temp-schedule-mode, .verify-schedule {
    box-shadow: 0 4px 24px 0 rgba(0,0,0,0.13);
    border-radius: 12px;
    background: var(--cycle-bg-color);
    padding: 24px 24px 32px 24px;
    margin-top: 15px;
}
.verify-schedule {
  margin-top: 20px !important;
}
.temp-schedule-mode .employees-table-outer {
  margin-top: 24px;
}
/* 驗證排班區域 */
.verify-schedule-header, .schedule-require-header{
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}
.verify-action {
  display: flex;
  gap: 12px;
}
.verify-schedule-header h3, .schedule-require-header h3{
    margin: 0;
    color: var(--black-color);
    font-size: 18px;
    font-weight: 600;
}

.verify-schedule-header button {
  background: var(--green-color);
  color: var(--white-color);
  border: none;
  border-radius: 6px;
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s;
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.verify-schedule-header button:hover {
  background: #4a6b5f;
}
.verify-schedule textarea{
  width: 100%;
  min-height: 130px;
  padding: 12px;
  border: 1px solid var(--grey-color);
  border-radius: 6px;
  background-color: var(--white-color);
  color: var(--black-color);
  font-family: "Poppins", sans-serif;
  font-size: 14px;
  resize: vertical;
  margin-bottom: 15px;
}
.verify-schedule-content {
  display: table;
  width: 100%;
  border-collapse: collapse;
}

.verify-schedule-row {
  display: table-row;
}

.verify-schedule-cell {
  display: table-cell;
  vertical-align: top;
  padding: 0 15px;
}

.verify-schedule-cell:first-child {
  width: 30%;
}

.verify-schedule-cell:last-child {
  width: 70%;
  border-left: 1px solid;
}


.verify-options h4 {
  color: var(--black-color);
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 15px;
  text-align: center;
}

.verify-checkbox-group {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 20px;
}

.verify-checkbox-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 6px;
  background-color: var(--schedule-verify-checkbox);
  transition: background-color 0.2s ease;
}

.verify-checkbox-item:hover {
  background-color: #e9ecef;
}
.verify-checkbox-item label:hover {
  color: #333;
}

.verify-checkbox {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: var(--blue-color);
}

.verify-checkbox:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.verify-checkbox-item label {
  color: var(--black-color);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  flex: 1;
  margin: 0;
  transition: color 0.2s ease;
}

.verify-checkbox-item:has(.verify-checkbox:disabled) label {
  cursor: not-allowed;
  opacity: 0.6;
}


/* 暫存班表底部區域容器 */
.temp-schedule-bottom {
    display: flex;
    gap: 20px;
    margin-top: 25px;
    flex-wrap: wrap; /* RWD: 在小螢幕上換行 */
}

/* 員工需求表格區域 */
.temp-schedule-require {
    box-shadow: 0 4px 24px 0 rgba(0,0,0,0.13);
    border-radius: 12px;
    background: var(--cycle-bg-color);
    padding: 25px;
    flex: 1; /* 佔據剩餘空間的一半 */
    min-width: 300px; /* 最小寬度確保RWD */
}

.schedule-require-header .update-require-btn {
  background: var(--green-color);
  color: var(--white-color);
  border: none;
  border-radius: 6px;
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s;
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.schedule-require-header .update-require-btn:hover {
  background: #4a6b5f;
}

/* 備註區域 */
.temp-schedule-comment {
    box-shadow: 0 4px 24px 0 rgba(0,0,0,0.13);
    border-radius: 12px;
    background: var(--cycle-bg-color);
    padding: 24px;
    flex: 1; /* 佔據剩餘空間的一半 */
    min-width: 300px; /* 最小寬度確保RWD */
}
/* 各子欄位的標題 */
.temp-schedule-comment h3, .temp-schedule-require h3, .verify-schedule h3{
    color: var(--black-color);
    font-size: 18px;
    font-weight: 600;
}

.temp-schedule-comment textarea {
    width: 100%;
    min-height: 120px;
    padding: 12px;
    border: 1px solid var(--grey-color);
    border-radius: 6px;
    background-color: var(--white-color);
    color: var(--black-color);
    font-family: "Poppins", sans-serif;
    font-size: 14px;
    resize: vertical;
    margin-bottom: 15px;
}

.temp-schedule-comment textarea:focus {
    outline: none;
    border-color: var(--blue-color);
    box-shadow: 0 0 0 0.2rem rgba(64, 112, 244, 0.25);
}

.temp-schedule-comment .save-comment-btn {
    background: var(--green-color);
    color: var(--white-color);
    border: none;
    border-radius: 6px;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.temp-schedule-comment .save-comment-btn:hover {
    background: #4a6b5f;
}

/* 員工需求表格樣式 */
.employee-requirements-table {
    border-collapse: collapse;
    width: 100%; /* 改為100%以適應容器 */
    color: var(--black-color); /* 符合夜間模式 */
    margin-top: 10px;
    table-layout: fixed; /* 固定表格佈局，防止欄位寬度變化 */
}

.employee-requirements-table th,
.employee-requirements-table td {
    border: 1px solid var(--grey-color); /* 使用CSS變數 */
    padding: 6px 8px;
    text-align: center;
    font-size: 15px;
    color: var(--black-color); /* 符合夜間模式 */
    overflow: hidden; /* 防止內容溢出 */
    white-space: nowrap; /* 防止文字換行 */
}

.employee-requirements-table th {
    background: var(--table-th-color);
    font-weight: 600;
    vertical-align: middle;
    text-align: center;
    line-height: 1.2;
    white-space: normal;
    font-size: 15px;
    padding: 6px 8px;
    min-width: 70px;
    color: var(--black-color); /* 符合夜間模式 */
}

.employee-requirements-table td:first-child,
.employee-requirements-table th:first-child {
    background: var(--table-td-color);
    font-weight: 500;
    min-width: 20px; /* 與上方employees-table相符 */
    width: 15%; /* 員工姓名欄位固定寬度 */
}

/* 需求儲存格固定寬度 */
.employee-requirements-table td:not(:first-child) {
    width: 14.28%; /* 7個欄位平均分配 (100% / 7) */
}

/* 實際班別儲存格樣式 */
.actual-shift-cell {
    background-color: var(--white-color) !important;
    border: 1px solid var(--grey-color) !important;
    cursor: default;
    transition: background-color 0.2s ease;
    position: relative;
    width: 100%;
    height: 100%;
}


.actual-shift-content {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 24px;
    width: 100%;
    position: relative;
}

.actual-shift-value {
    min-width: 20px;
    text-align: center;
    flex-shrink: 0;
    color: var(--grey-color-light);
}

.requirement-cell {
  cursor: pointer;
  transition: background-color 0.2s ease;
  position: relative;
  width: 100%; /* 確保儲存格佔滿整個 td */
  height: 100%; /* 確保儲存格佔滿整個 td */
}

.requirement-cell:hover {
  background-color: var(--bg-table-selected);
}

.requirement-cell.selected {
  background-color: var(--bg-table-selected);
  border: 2px solid var(--border-selected);
}

.requirement-content {
  color: var(--black-color);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 24px;
  width: 100%; /* 確保內容區域佔滿整個儲存格 */
  position: relative; /* 為動畫定位 */

}

.requirement-value {
  font-weight: bold;
  min-width: 20px;
  text-align: center;
  flex-shrink: 0; /* 防止數值被壓縮 */
}

/* +/- 按鈕基礎樣式 */
.requirement-btn {
  width: 24px;
  height: 24px;
  border: 1px solid #ccc;
  background-color: #fff;
  color: #333;
  font-weight: bold;
  cursor: pointer;
  border-radius: 3px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0; /* 防止按鈕被壓縮 */
  opacity: 0; /* 初始狀態為透明 */
  transform: scale(0.8); /* 初始狀態稍微縮小 */
  animation: fade-in 0.3s ease-out forwards; /* 淡入動畫 */
}

/* 淡入動畫 - 專門用於按鈕 */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* 淡出動畫 - 專門用於按鈕 */
@keyframes fade-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

/* 淡出狀態 */
.requirement-btn.fade-out {
  animation: fade-out 0.2s ease-in forwards;
}

.requirement-btn:hover {
  background-color: #007bff;
  color: white;
  border-color: #007bff;
}

.requirement-btn:active {
  transform: scale(0.95);
}

.requirement-btn-minus {
  background-color: #dc3545;
  color: white;
  border-color: #dc3545;
}

.requirement-btn-minus:hover {
  background-color: #c82333;
  border-color: #c82333;
}

.requirement-btn-plus {
  background-color: #28a745;
  color: white;
  border-color: #28a745;
}

.requirement-btn-plus:hover {
  background-color: #218838;
  border-color: #218838;
}

/* 更新按鈕樣式 */
.update-require-btn {
  padding: 8px 16px;
  background-color: #007bff;
  color: var(--black-color);
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  transition: background-color 0.2s ease;
}

.update-require-btn:hover:not(:disabled) {
  background-color: #0056b3;
}

.update-require-btn:disabled {
  background-color: var(--grey-color);
  cursor: not-allowed;
  opacity: 0.6;
}

/* 響應式設計 */
@media (max-width: 768px) {
  .requirement-content {
      gap: 4px;
  }
  
  .requirement-btn {
      width: 20px;
      height: 20px;
      font-size: 12px;
  }
  
  .requirement-value {
      min-width: 16px;
      font-size: 14px;
  }
}

/* === 人員模式專用樣式 === */
/* 人員班表外框動畫 */
.employeesmode {
  display: block;
  width: 100%;
  min-height: 400px;
  animation: fadeInTable 0.4s;
  background: var(--cycle-bg-color);
  border-radius: 12px;
  box-shadow: 0 4px 24px #0001;
  margin-top: 15px;
  padding: 24px 12px 24px 12px;
  overflow-x: auto;
  transition: opacity 0.4s;
}

/* 年月選擇和搜尋按鈕的容器 */
.employee-controls {
  /* display: flex; */
  /* justify-content: space-between; */
  justify-content: center;
  align-items: center;
  padding: 10px;
  background-color: var(--white-color);
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.05);
  animation: fadeInTable 0.4s;
  gap: 15px; /* 增加整體間距 */
  color: var(--grey-color);
  display: flex;
  flex-direction: column;
}

.date-selector-title {
    text-align: center;
    color: var(--grey-color);
}

.date-selector {
  display: flex;
  justify-content: center;
  align-items: center; /* 垂直居中對齊 */
  gap: 30px; /* 調整內部元件間距 */
  padding: 0px 20px;
}

.select-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

.select-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.select-wrapper .form-control {
    width: 160px;
    padding: 8px 32px 8px 12px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    border: 1px solid #ccc;
    border-radius: 6px;
    background-color: var(--white-color);
    font-size: 15px;
    cursor: pointer;
    color: var(--black-color);
}

.select-wrapper i {
    position: absolute;
    right: 12px;
    font-size: 22px;
    color: var(--grey-color);
    pointer-events: none;
}

.employee-controls span {
     font-size: 18px;
     font-weight: 500;
}

.employee-controls select {
  padding: 6px 28px 6px 10px; /* 調整內距以容納箭頭 */
  border-radius: 6px;
  border: 1px solid #ccc;
  background-color: #fff;
  font-size: 14px;
  background-repeat: no-repeat;
  background-position: right 0.6rem center;
  background-size: 1em;
  min-width: 100px; /* 設定最小寬度 */
}

.employee-controls button {
  padding: 8px 16px;
  border-radius: 6px;
  border: none;
  background-color: var(--fc-dark-btn-color);
  color: var(--white-color);
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.employee-controls button:hover {
  background-color: #5173a9;
}

.employee-controls button i {
  margin-right: 5px;
}

.employeesmode.fadein {
  opacity: 1;
  animation: fadeInTable 0.4s;
}
.employeesmode.fadeout {
  opacity: 0;
  transition: opacity 0.4s;
}
@keyframes fadeInTable {
  from { opacity: 0; transform: translateY(30px);}
  to { opacity: 1; transform: translateY(0);}
}
.employees-table {
  border-collapse: collapse;
  width: 100%;
  min-width: 900px;
  table-layout: fixed; /* 固定表格佈局 */
}
.employees-table th, .employees-table td {
  border: 1px solid #e0e0e0;
  color: var(--grey-color);
  padding: 6px 8px;
  text-align: center;
  font-size: 15px;
  height: 40px; /* 設定基本儲存格高度 */
  width: 40px;
  vertical-align: middle;
}
.employees-table th {
  background: var(--table-th-color);
  color: var(--grey-color);
  font-weight: 600;
  vertical-align: middle;
  text-align: center;
  line-height: 1.2;
  white-space: normal;
  font-size: 12px;
  padding: 6px 8px;
  height: 50px; /* 標題列高度 */
}
.employees-table th br {
  display: block;
  content: "";
  margin: 0;
}
.employees-table th span.dayofweek {
  display: block;
  font-size: 12px;
  margin-top: 2px;
}
.employees-table th:first-child, .employees-table td:first-child{
  background: var(--table-td-color);
  color: var(--black-color);
  position: sticky;
  left: 0;
  z-index: 2;
  font-size: 15px;
  font-weight: 500;
  min-width: 90px;
  width: 120px; /* 固定員工姓名欄位寬度 */
  
}
.employees-table-outer {
  overflow-x: auto;
}

/* 週末樣式 */
.employees-table th.weekend {
  background: #fce4ec;
  color: #c2185b;
}
/* 週末人員樣式 */
.employees-table td.weekend {
  background: #fce4ec;
}
/* sticky 員工姓名欄位 */
.employees-table .sticky-col {
  position: sticky;
  font-weight: 500;
  color: var(--black-color);
  left: 0;
  z-index: 2;
  background: var(--table-td-color);
  box-shadow: 2px 0 4px -2px #b0bec5;
}

/* === 月曆模式切換動畫 === */
nav.content.fadein {
  opacity: 1;
  transition: opacity 0.4s;
}
nav.content.fadeout {
  opacity: 0;
  transition: opacity 0.4s;
}

/* === 模式切換按鈕樣式 === */
.mode-calendar.active .nav_link,
.mode-employees.active .nav_link,
.mode-daily-employees.active .nav_link {
  background: var(--select-mode-color);
  color: var(--white-color);
}
.mode-calendar.active .navlink_icon,
.mode-employees.active .navlink_icon,
.mode-daily-employees.active .navlink_icon {
  color: var(--white-color);
}

/* 模式切換容器樣式 */
.calendarmode {
  position: relative;
  background: var(--background-color);
  border-radius: 8px;
  padding: 4px;
  margin: 8px 0;
  overflow: hidden;
}

/* 選擇指示器 */
.calendarmode::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  width: calc(100% - 8px);
  height: 60px;
  background: var(--select-mode-color);
  border-radius: 6px;
  transition: transform 0.3s ease;
  z-index: 0;
}

/* 根據當前模式移動指示器 */
.calendarmode.mode-calendar-active::before {
  transform: translateX(0);
}

.calendarmode.mode-employees-active::before {
  transform: translateY(95%);
}

.calendarmode.mode-daily-employees-active::before {
  transform: translateY(190%);
}

/* 確保按鈕在指示器上方 */
.calendarmode .nav_link {
  position: relative;
  z-index: 1;
  background: transparent !important;
  transition: color 0.3s ease;
}
.sidebar.close .calendarmode .nav_link {
  justify-content:center
}

.sidebar .calendarmode .navlink_icon
/* 活動狀態的按鈕文字顏色
.calendarmode .nav_link.active {
  color: var(--white-color) !important;
}*/

/* 非活動狀態的按鈕文字顏色 */
/*.calendarmode .nav_link:not(.active) {
  color: var(--grey-color) !important;
} */

/* === 人員班表班別樣式 === */
.shift-cell {
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.shift-cell:hover {
  background: #f0f8ff;
  transform: scale(1.05);
  z-index: 10;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* 兩列式佈局樣式 */
.shift-main-cell {
  height: 30px; /* 主要班別儲存格高度 */
  border-bottom: 1px solid #e0e0e0;
  padding: 4px 8px;
  vertical-align: middle;
}

.shift-sub-cell {
  height: 20px; /* 子班別儲存格高度 */
  font-size: 11px; /* 較小的字體 */
  padding: 2px 6px; /* 調整內距 */
  vertical-align: middle;
  line-height: 1.2;
  text-align: center;
  color: var(--grey-color);
  background-color: rgba(255, 255, 255, 0.8);
  border-top: 1px solid #e0e0e0;
  position: relative;
}

/* 子班別儲存格中的班別名稱樣式 */
.shift-sub-cell.morning-shift {
  color: var(--fc-schedule-day);
  font-weight: 500;
}

.shift-sub-cell.afternoon-shift {
  color: var(--fc-schedule-eveing);
  font-weight: 500;
}

.shift-sub-cell.night-shift {
  color: var(--fc-schedule-night);
  font-weight: 500;
}

/* 員工姓名儲存格樣式 */
.employee-name-cell {
  vertical-align: middle;
  text-align: center;
  font-weight: 500;
  background: var(--table-td-color);
  color: var(--black-color);
  height: 40px; /* 總高度 = 30px + 10px */
}


/* 班別子類型樣式 */
.shift-subtypes {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-top: 4px;
}

.shift-subtype {
  font-size: 10px;
  padding: 2px 4px;
  border-radius: 3px;
  text-align: center;
  font-weight: 500;
  color: white;
  background-color: var(--grey-color);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.shift-subtype.morning-shift {
  background-color: var(--fc-schedule-day);
}

.shift-subtype.afternoon-shift {
  background-color: var(--fc-schedule-eveing);
}

.shift-subtype.night-shift {
  background-color: var(--fc-schedule-night);
}

/* 新增：支援 shift-subtypes 的標題樣式 */
.employees-table th .shift-subtypes {
  margin-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  align-items: center;
}

.employees-table th .shift-subtype {
  font-size: 9px;
  padding: 1px 3px;
  border-radius: 2px;
  text-align: center;
  font-weight: 500;
  color: white;
  background-color: var(--grey-color);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* 子班別行樣式 */
.shift-subtype-row {
  background-color: rgba(255, 255, 255, 0.3);
}

.shift-subtype-row td {
  height: 30%; /* 子班別行儲存格高度 */
  padding: 1px 4px;
}
.shift-subtype-row td:first-child {
  z-index: 0;
}
/* 早班樣式 */
.morning-shift {
  background: var(--bg-schedule-day) !important;
  color: var(--fc-schedule-day);
  font-weight: 500;
}

/* 中班樣式 */
.afternoon-shift {
  background: var(--bg-schedule-eveing) !important;
  color: var(--fc-schedule-eveing);
  font-weight: 500;
}

/* 晚班樣式 */
.night-shift {
  background: var(--bg-schedule-night) !important;
  color: var(--fc-schedule-night);
  font-weight: 500;
}

/* 休假樣式 */
.day-off {
  background: var(--bg-schedule-off) !important;
  color: var(--fc-schedule-off);
  font-weight: 500;
}

/* 休假狀態樣式 */
.leave-high {
  background-color: #f44336 !important; /* 紅色底 */
  color: white !important; /* 白色字體 */
  font-weight: bold;
  text-align: center;
  border-radius: 4px;
  padding: 4px 8px;
}

.leave-low {
  background-color: #2196f3 !important; /* 藍色底 */
  color: white !important; /* 白色字體 */
  font-weight: bold;
  text-align: center;
  border-radius: 4px;
  padding: 4px 8px;
}

.leave-special {
  background-color: #9c27b0 !important; /* 紫色底 */
  color: white !important; /* 白色字體 */
  font-weight: bold;
  text-align: center;
  border-radius: 4px;
  padding: 4px 8px;
}
.leave-auto {
  background-color: #9c27b0 !important; /* 紫色底 */
  color: white !important; /* 白色字體 */
  font-weight: bold;
  text-align: center;
  border-radius: 4px;
  padding: 4px 8px;
}



/* === 每日上班人員模式樣式 === */
.daily-employees-mode {
  background: var(--white-color);
  border-radius: 12px;
  padding: 30px;
  text-align: center;
  box-shadow: 0 2px 12px #0001;
  margin-top: 30px;
}

.daily-employees-mode h3 {
  color: var(--grey-color);
  margin-bottom: 15px;
}

.daily-employees-mode p {
  color: var(--grey-color-light);
  font-size: 16px;
}

/* === 響應式設計 === */
@media screen and (max-width: 768px) {
  .employees-table {
    min-width: 600px;
    font-size: 12px;
  }
  
  .employees-table th, .employees-table td {
    padding: 4px 6px;
  }
  
  .employeesmode {
    padding: 16px 8px;
  }
}

/* === 員工設定面板樣式 === */
.loading-title{
  color: var(--grey-color);
}
.back-to-menu {
    margin-bottom: 20px;
    cursor: pointer;
}

.back-to-menu:hover {
    color: var(--white-color);
    background: var(--blue-color);
}

.employee-config-content {
    margin-top: 20px;
}

.fadein {
    opacity: 1;
    transition: opacity 0.4s ease;
}

.fadeout {
    opacity: 0;
    transition: opacity 0.4s ease;
}

/* === 班別設定面板樣式 === */
.shift-config-mode {
    background: var(--cycle-bg-color);
    border-radius: 12px;
    box-shadow: 0 4px 24px 0 rgba(0,0,0,0.13);
    padding: 24px;
    margin-top: 15px;
    animation: fadeInTable 0.4s;
}

.shift-config-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--grey-color-light);
}

.shift-config-header h3 {
    margin: 0;
    color: var(--black-color);
    font-size: 20px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.shift-config-header h3 i {
    color: var(--blue-color);
    font-size: 24px;
}

.shift-config-header button {
    background: var(--blue-color);
    color: var(--white-color);
    border: none;
    border-radius: 6px;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.shift-config-header button:hover {
    background: #3366cc;
}

.shift-config-content {
    position: relative;
    min-height: 200px;
}

.loading-spinner {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
    color: var(--grey-color);
}

.loading-spinner p {
    margin-top: 16px;
    font-size: 16px;
    font-weight: 500;
}

.shift-types-table-container {
    overflow-x: auto;
}

.shift-types-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--white-color);
    border-radius: 8px;
    overflow: hidden;
    
}

.shift-types-table th,
.shift-types-table td {
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid var(--grey-color-light);
    color: var(--black-color);
    
}

.shift-types-table th {
    background: var(--table-th-color);
    font-weight: 600;
    font-size: 14px;
    color: var(--black-color);
    white-space: nowrap;

}

.shift-types-table td {
    font-size: 14px;
    vertical-align: middle;
}

.shift-types-table tbody tr {
    transition: background-color 0.2s ease;
    cursor: pointer;
}

.shift-types-table tbody tr:hover {
    background-color: var(--bg-table-selected);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.shift-types-table tbody tr:last-child td {
    border-bottom: none;
}

.shift-types-table .btn {
    margin-right: 8px;
    font-size: 12px;
    padding: 6px 12px;
    transition: all 0.2s ease;
}

.shift-types-table .btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.15);
}

.shift-types-table .btn:last-child {
    margin-right: 0;
}


/* 響應式設計 */
@media screen and (max-width: 768px) {
    .shift-config-header {
        flex-direction: column;
        gap: 16px;
        align-items: stretch;
    }
    
    .shift-config-header button {
        justify-content: center;
    }
    
    .shift-types-table {
        font-size: 12px;
    }
    
    .shift-types-table th,
    .shift-types-table td {
        padding: 8px 12px;
    }
    
    .shift-types-table .btn {
        padding: 4px 8px;
        font-size: 11px;
    }
}

/* === 開始排班彈窗樣式 === */

#startScheduleModal .modal-content {
    background-color: var(--white-color);
    color: var(--grey-color);
}

#startScheduleModal .modal-header i.bx-play-circle {
    font-size: 26px;
    margin-right: 5px;
    color: var(--blue-color);
    vertical-align: middle;
}

#startScheduleModal .modal-header .modal-title {
    display: flex;
    align-items: center;
    margin: 0;
    color: var(--grey-color);
}

/* 日期設定區域的表格佈局 */
#startScheduleModal .date-settings-container {
    display: table;
    width: 100%;
    border-collapse: collapse;
}

#startScheduleModal .date-settings-row {
    display: table-row;
}

#startScheduleModal .date-settings-cell {
    display: table-cell;
    vertical-align: middle;
    padding: 8px;
}

/* 左側日期輸入區域 */
#startScheduleModal .date-inputs {
    width: 40%;
    padding-right: 15px;
}

#startScheduleModal .date-inputs .mb-3 {
    margin-bottom: 15px !important;
}

#startScheduleModal .date-inputs .form-label {
    color: var(--grey-color);
    font-weight: 500;
    margin-bottom: 5px;
}

#startScheduleModal .date-inputs .form-control {
    background-color: var(--white-color);
    border: 1px solid var(--grey-color-light);
    color: var(--black-color);
    border-radius: 6px;
    padding: 8px 12px;
}

#startScheduleModal .date-inputs .form-control:focus {
    border-color: var(--blue-color);
    box-shadow: 0 0 0 0.2rem rgba(64, 112, 244, 0.25);
}

/* 上二側天數顯示區域 */
#startScheduleModal .days-display {
    width: 30%;
    text-align: center;
    border-left: 1px solid var(--grey-color-light);
    padding-left: 15px;
}

#startScheduleModal .days-display .form-label {
    color: var(--grey-color);
    font-weight: 500;
    margin-bottom: 10px;
}

#startScheduleModal .days-display #scheduleDays {
    font-size: 24px;
    font-weight: 600;
    color: var(--black-color);
    background-color: var(--white-color);
    border: 2px solid var(--blue-color);
    border-radius: 8px;
    padding: 15px;
    margin: 0;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* 員工人數顯示 */
#startScheduleModal .employee-count-section {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid var(--grey-color-light);
}

#startScheduleModal .employee-count-section .form-label {
    color: var(--grey-color);
    font-weight: 500;
}
/* 上三側選擇班別 */
#startScheduleModal .shift-select {
  width: 30%;
  text-align: center;
  border-left: 1px solid var(--grey-color-light);
  padding-left: 15px;
}
#ShiftListGroup .list-group-item {
  background-color: var(--white-color);
  font-size: 14px;
}
#startScheduleModal .employee-count-section #employeeCount {
    color: var(--green-color);
    font-weight: 600;
    font-size: 18px;
}

/* 員工參數設定按鈕 */
#startScheduleModal #employeeConfigBtn {
    background-color: var(--white-color);
    border: 2px solid var(--blue-color);
    color: var(--blue-color);
    font-weight: 500;
    transition: all 0.3s ease;
}

#startScheduleModal #employeeConfigBtn:hover {
    background-color: var(--blue-color);
    color: var(--white-color);
}

/* 確認按鈕樣式 */
#startScheduleModal #confirmStartSchedule {
    background-color: var(--green-color);
    border-color: var(--green-color);
    font-weight: 500;
}

#startScheduleModal #confirmStartSchedule:hover {
    background-color: #4a6b5f;
    border-color: #4a6b5f;
}

/* 夜間模式適配 */
body.dark #startScheduleModal .modal-content,
body.dark #shiftTypeModal .modal-content,
body.dark #shiftGroupModal .modal-content {
    background-color: var(--white-color);
    color: var(--grey-color);
}

body.dark #startScheduleModal .form-control {
  color-scheme: dark;
}

/* 員工設定區域的表格佈局 */
#startScheduleModal .employee-settings-container {
    display: table;
    width: 100%;
    border-collapse: collapse;
}

#startScheduleModal .employee-settings-row {
    display: table-row;
}

#startScheduleModal .employee-settings-cell {
    display: table-cell;
    vertical-align: top; /* 頂端對齊 */
    padding: 8px;
}

/* 左側控制區域 */
#startScheduleModal .employee-inputs {
    width: 40%;
    padding-right: 15px;
}
#startScheduleModal .employee-inputs #employeeCount{
  display: flex;
  justify-content:center;
  font-size: 24px;
  font-weight: bold;
  color: var(--fc-dark-btn-color);
}
/* 右側員工列表 */
#startScheduleModal .employee-list {
    width: 60%;
    padding-left: 15px;
    border-left: 1px solid var(--grey-color-light);
}

#startScheduleModal #employeeListGroup {
    max-height: 160px; /* 設定最大高度 */
    overflow-y: auto; /* 超出高度時顯示滾動條 */
    border: 1px solid var(--grey-color-light);
    border-radius: 6px;
}

#startScheduleModal #employeeListGroup .list-group-item {
    background-color: var(--white-color);
    border: none;
    border-bottom: 1px solid var(--grey-color-light);
    padding: 8px 12px;
    color: var(--grey-color);
}

#startScheduleModal #employeeListGroup .list-group-item:last-child {
    border-bottom: none;
}

body.dark #startScheduleModal #employeeListGroup .list-group-item {
    background-color: var(--white-color);
    color: var(--grey-color);
    border-bottom: 1px solid var(--grey-color-light);
}

/* 載入遮罩樣式 */
.loading-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    backdrop-filter: blur(2px);
}

body.dark .loading-overlay {
    background-color: rgba(51, 51, 51, 0.8);
}

.loading-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 30px;
    background-color: var(--white-color);
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

body.dark .loading-content {
    background-color: var(--white-color);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.loading-message {
    font-size: 16px;
    font-weight: 500;
    color: var(--black-color);
    text-align: center;
}

.spinner-border {
    width: 3rem;
    height: 3rem;
}

/* 訊息框樣式 */
.message-box {
    position: fixed;
    bottom: 30px;
    right: 30px;
    max-width: 400px;
    z-index: 2000;
    animation: slideInRight 0.3s ease-out;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.message-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    background-color: var(--white-color);
    border-left: 4px solid;
}

.message-success {
    border-left-color: #28a745;
}

.message-error {
    border-left-color: #dc3545;
}

.message-info {
    border-left-color: #17a2b8;
}

body.dark .message-content {
    background-color: var(--white-color);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

.message-text {
    flex: 1;
    font-size: 14px;
    font-weight: 500;
    color: var(--black-color);
    margin-right: 10px;
}

.message-close {
    background: none;
    border: none;
    font-size: 18px;
    color: var(--grey-color);
    cursor: pointer;
    padding: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.2s ease;
}

.message-close:hover {
    background-color: rgba(0, 0, 0, 0.1);
    color: var(--black-color);
}

body.dark .message-close:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

/* 響應式設計 */
@media screen and (max-width: 768px) {
    .message-box {
        bottom: 20px;
        right: 20px;
        left: 20px;
        max-width: none;
    }
    
    .loading-content {
        padding: 20px;
        margin: 20px;
    }
    
    .loading-message {
        font-size: 14px;
    }
}

/* === 班別群組設定樣式 === */
.shift-group-config-mode {
    background: var(--cycle-bg-color);
    border-radius: 12px;
    box-shadow: 0 4px 24px 0 rgba(0,0,0,0.13);
    padding: 24px;
    margin-top: 20px;
    animation: fadeInTable 0.4s;
}

.shift-group-config-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--grey-color-light);
}

.shift-group-config-header h3 {
    margin: 0;
    color: var(--black-color);
    font-size: 20px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.shift-group-config-header h3 i {
    color: var(--blue-color);
    font-size: 24px;
}

.shift-group-config-header button {
    background: var(--blue-color);
    color: var(--white-color);
    border: none;
    border-radius: 6px;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.shift-group-config-header button:hover {
    background: #3366cc;
}

.shift-group-config-content {
    position: relative;
    min-height: 200px;
}

/* 群組項目樣式 */
.shift-group-item {
    background: var(--white-color);
    border-radius: 8px;
    margin-bottom: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
    transition: all 0.3s ease;
}

.shift-group-item:hover {
    box-shadow: 0 4px 16px rgba(0,0,0,0.12);
}

/* 群組標題樣式 */
.group-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    background: var(--table-th-color);
    cursor: pointer;
    transition: background-color 0.2s ease;
    border-bottom: 1px solid var(--grey-color-light);
}

.group-header:hover {
    background: var(--bg-table-selected);
}

.group-header-content {
    display: flex;
    align-items: center;
    gap: 12px;
}

.group-expand-icon {
    font-size: 20px;
    color: var(--grey-color);
    transition: transform 0.3s ease;
}

.group-name {
    margin: 0;
    color: var(--black-color);
    font-size: 16px;
    font-weight: 600;
}

.group-count {
    color: var(--grey-color);
    font-size: 14px;
    font-weight: 400;
}

.group-actions {
    display: flex;
    gap: 8px;
}

.group-actions .btn {
    font-size: 12px;
    padding: 6px 12px;
    transition: all 0.2s ease;
}

.group-actions .btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.15);
}

/* 群組內容樣式 */
.group-content {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.3s ease-out;
    margin: 0;
    visibility: hidden;
    position: relative;
    z-index: 1;
    background: var(--white-color);
}

/* 展開狀態 */
.group-content.show {
    max-height: 800px; /* 根據內容調整適當的高度 */
    opacity: 1;
    margin-top: 0;
    margin-bottom: 0;
    visibility: visible;
    padding: 20px;
}

/* 表格滾動容器 */
.group-details-table-container {
    overflow-x: auto;
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.05);
}

.group-details-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--white-color);
    border-radius: 6px;
    overflow: hidden;
    min-width: 700px; /* 確保表格有最小寬度 */
}



.group-details-table th,
.group-details-table td {
    padding: 12px 16px;
    text-align: center;
    border: 1px solid var(--grey-color-light);
    color: var(--black-color);
    vertical-align: top;
}

.group-details-table th {
    background: var(--table-th-color);
    font-weight: 600;
    font-size: 14px;
    color: var(--black-color);
    white-space: nowrap;
    position: relative;
}

.group-details-table th::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--blue-color);
}

.group-details-table td {
    font-size: 14px;
    min-height: 80px;
    position: relative;
}

/* 無班別的儲存格樣式 */
.group-details-table td.no-shift {
    color: var(--grey-color-light);
    font-style: italic;
    background: #f8f9fa;
}

/* 有班別的儲存格樣式 */
.group-details-table td.has-shift {
    background: var(--white-color);
}

/* 班別項目樣式 */
.shift-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 12px;
    margin: 4px 0;
    background: var(--bg-table-selected);
    border-radius: 6px;
    border: 1px solid var(--grey-color-light);
    transition: all 0.2s ease;
    position: relative;
}

.shift-item:hover {
    background: var(--bg-table-selected);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transform: translateY(-1px);
}

.shift-text {
    flex: 1;
    font-weight: 500;
    color: var(--black-color);
    text-align: left;
}

.shift-actions {
    display: flex;
    gap: 4px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.shift-item:hover .shift-actions {
    opacity: 1;
}

.shift-actions .btn {
    padding: 2px 6px;
    font-size: 18px;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.shift-actions .btn:hover {
    transform: scale(1.1);
}

/* 人數標示樣式 */
.shift-text::after {
    content: attr(data-amount);
    color: var(--blue-color);
    font-weight: 600;
    margin-left: 4px;
}

/* 週末樣式 */
.group-details-table th:nth-child(6),
.group-details-table th:nth-child(7),
.group-details-table td:nth-child(6),
.group-details-table td:nth-child(7) {
    background: var(--group-weekend);
}

.group-details-table th:nth-child(6)::after,
.group-details-table th:nth-child(7)::after {
    background: #ff9b9b;
}

/* 響應式設計 */
@media screen and (max-width: 768px) {
    .shift-group-config-header {
        flex-direction: column;
        gap: 16px;
        align-items: stretch;
    }
    
    .shift-group-config-header button {
        justify-content: center;
    }
    
    .group-header {
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
    }
    
    .group-header-content {
        justify-content: space-between;
    }
    
    .group-actions {
        justify-content: center;
    }
    
    .group-details-table {
        font-size: 12px;
        min-width: 600px; /* 確保在小螢幕上可以水平滾動 */
    }
    
    .group-details-table th,
    .group-details-table td {
        padding: 8px 6px;
        min-width: 80px;
    }
    
    .shift-item {
        padding: 6px 8px;
        margin: 2px 0;
    }
    
    .shift-text {
        font-size: 11px;
    }
    
    .shift-actions .btn {
        padding: 1px 4px;
        font-size: 9px;
    }
    
    /* 在小螢幕上顯示操作按鈕 */
    .shift-actions {
        opacity: 1;
    }
}

/* 超小螢幕適配 */
@media screen and (max-width: 480px) {
    .group-details-table {
        min-width: 500px;
    }
    
    .group-details-table th,
    .group-details-table td {
        padding: 6px 4px;
        min-width: 70px;
    }
    
    .shift-item {
        flex-direction: column;
        gap: 4px;
        text-align: center;
    }
    
    .shift-text {
        text-align: center;
        font-size: 10px;
    }
}

/* 切換按鈕樣式 */
.normal-mode-toggle-btn {
    position: fixed;
    top: 100px;
    right: 30px;
    z-index: 1000;
    background: var(--blue-color);
    color: white;
    border: none;
    border-radius: 6px;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.normal-mode-toggle-btn:hover {
    background: #3366cc;
}

/* 夜間模式下的切換按鈕樣式 */
body.dark .normal-mode-toggle-btn {
    background: var(--blue-color);
    color: white;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

body.dark .normal-mode-toggle-btn:hover {
    background: #3366cc;
}

/* 響應式設計支援 */
@media screen and (max-width: 768px) {
    .normal-mode-toggle-btn {
        top: 80px;
        right: 20px;
        padding: 8px 16px;
        font-size: 12px;
    }
    
    .shift-sub-cell {
        height: 18px;
        font-size: 10px;
        padding: 1px 4px;
    }
    
    .shift-subtype-row td {
        height: 18px;
        padding: 1px 3px;
    }
}

@media screen and (max-width: 480px) {
    .normal-mode-toggle-btn {
        top: 70px;
        right: 15px;
        padding: 6px 12px;
        font-size: 11px;
    }
    
    .shift-sub-cell {
        height: 16px;
        font-size: 9px;
        padding: 1px 2px;
    }
    
    .shift-subtype-row td {
        height: 16px;
        padding: 1px 2px;
    }
}